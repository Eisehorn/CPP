#include "ShrubberyCreationForm.hpp"

ShrubberyCreationForm::ShrubberyCreationForm(std::string target) : Form("ShrubberyCreationForm", 145, 137) {
    this->_target = target;
}

void    ShrubberyCreationForm::execute(Bureaucrat const & executor) const {
    if (executor.getGrade() > this->getGradetoExecute())
        throw (Form::GradeTooLowException());
    std::cout<<executor.getName()<<" is executing "<<this->getName()<<std::endl;
    executor.executeForm(*this);
    this->tree();
}

void    ShrubberyCreationForm::tree() const{    
    std::ofstream out;

	out.open(this->_target + "_shrubbery");
	if (!out)
		return ;

	out << "                                                                                          " << std::endl;
	out << "                                          ░░▒▒░░░░░░▒▒                                    " << std::endl;
	out << "                              ░░░░▒▒░░░░░░░░░░░░░░░░▒▒░░                                  " << std::endl;
	out << "                            ░░░░░░░░░░▒▒▒▒▒▒░░░░░░░░░░▒▒░░                                " << std::endl;
	out << "                          ▒▒░░░░░░░░░░▒▒▒▒▒▒░░░░░░░░░░░░▒▒░░░░░░░░░░                      " << std::endl;
	out << "                          ▒▒░░░░░░░░░░▒▒▒▒▒▒░░░░░░░░▒▒▓▓▒▒░░░░░░░░▒▒░░                    " << std::endl;
	out << "                        ▒▒░░░░░░░░░░░░▒▒▓▓▒▒▒▒▒▒░░░░▒▒▒▒▒▒░░░░▒▒░░░░▒▒                    " << std::endl;
	out << "                  ░░▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░▒▒░░░░░░▒▒▒▒░░░░▒▒░░░░░░░░▒▒░░▒▒                    " << std::endl;
	out << "                ▒▒▒▒░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░▒▒▒▒░░▒▒▒▒░░░░▒▒░░                " << std::endl;
	out << "              ░░▒▒▒▒░░░░░░▒▒▒▒▒▒▒▒▒▒░░░░▒▒░░░░░░░░░░░░░░░░▒▒▒▒░░░░░░░░░░▒▒                " << std::endl;
	out << "          ░░▒▒▒▒░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒░░░░░░░░▒▒░░░░░░░░▒▒▒▒▒▒░░▒▒░░▒▒▒▒▒▒▒▒              " << std::endl;
	out << "          ░░░░░░▒▒░░░░░░░░▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▓▓▓▓▒▒▒▒░░▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒              " << std::endl;
	out << "    ░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▓▓▒▒░░░░▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒            " << std::endl;
	out << "  ░░░░░░░░░░▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓▓░░░░▒▒▒▒▒▒▒▒██░░▒▒░░▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▒▒          " << std::endl;
	out << "  ░░▒▒░░░░░░▒▒▒▒▒▒▒▒▒▒▓▓░░▓▓▒▒▓▓▓▓▒▒░░▒▒▓▓▓▓▒▒░░▒▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒░░▒▒▒▒▒▒░░        " << std::endl;
	out << "  ░░░░░░░░░░░░▓▓▒▒▒▒▒▒░░▒▒▓▓▓▓▒▒▓▓██▓▓████▓▓▓▓▒▒▓▓▓▓▒▒▓▓▒▒▓▓▓▓▒▒▒▒▓▓▓▓▒▒▒▒▒▒▒▒▒▒░░▒▒░░    " << std::endl;
	out << "  ░░▒▒░░░░░░▒▒▒▒▓▓▒▒▓▓░░░░▒▒▒▒██▓▓▓▓██████▒▒██▓▓▓▓▓▓▒▒▓▓▓▓▓▓▓▓▓▓▒▒▓▓▓▓▒▒░░░░▒▒░░░░░░▒▒▒▒  " << std::endl;
	out << "      ▒▒▒▒▒▒▒▒▒▒▓▓▒▒▓▓▒▒▒▒▒▒▓▓██▒▒██████▓▓▓▓▓▓▓▓▓▓▒▒▓▓▓▓▓▓▓▓▓▓▒▒▒▒▓▓▒▒▒▒▒▒▒▒░░░░░░░░░░░░  " << std::endl;
	out << "        ▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓▓████▓▓░░░░▓▓  ▓▓▓▓▓▓▓▓▓▓▒▒▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒░░░░░░░░▒▒░░▒▒" << std::endl;
	out << "          ▒▒▒▒▒▒▒▒▓▓▓▓▓▓▒▒▓▓██░░▒▒▓▓      ▓▓▓▓  ▓▓▓▓▓▓▓▓▒▒░░░░▓▓▓▓▒▒▓▓▓▓▒▒▒▒▒▒░░░░▒▒▒▒▒▒  " << std::endl;
	out << "          ░░░░    ▓▓▒▒  ▒▒▓▓▓▓    ▒▒▒▒▒▒▓▓▒▒▓▓░░▒▒▓▓░░      ▓▓▓▓▒▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░  " << std::endl;
	out << "                          ▓▓▓▓      ▓▓▒▒▓▓▓▓▓▓▒▒▓▓▓▓      ░░▓▓          ░░▒▒░░▒▒░░░░░░    " << std::endl;
	out << "                          ▒▒▒▒▓▓▓▓▒▒██▒▒▓▓▓▓▒▒▓▓▓▓    ▓▓▒▒▓▓                              " << std::endl;
	out << "                              ▓▓▓▓▒▒▒▒▓▓▒▒▓▓▓▓▓▓▓▓▒▒▓▓▓▓░░                                " << std::endl;
	out << "                                ▓▓▓▓▒▒▓▓▒▒▒▒██████▓▓                                      " << std::endl;
	out << "                                  ▒▒▓▓▓▓▓▓▓▓▓▓▒▒░░                                        " << std::endl;
	out << "                                ▒▒▒▒▓▓▒▒▓▓▓▓▓▓                                            " << std::endl;
	out << "                                ▒▒▒▒▓▓▒▒▓▓▓▓                                              " << std::endl;
	out << "                                ▒▒▒▒▓▓▒▒▓▓▓▓                                              " << std::endl;
	out << "                                ▒▒▒▒▒▒▓▓▓▓                                                " << std::endl;
	out << "                                ▒▒▓▓▒▒▓▓▓▓                                                " << std::endl;
	out << "                              ▓▓▒▒▒▒▒▒▓▓▓▓                                                " << std::endl;
	out << "                              ▓▓▒▒▒▒▒▒▓▓▓▓▒▒                                              " << std::endl;
	out << "                            ▒▒▒▒▓▓▒▒▒▒▓▓▓▓▒▒                                              " << std::endl;
	out << "                          ▒▒▓▓▒▒▓▓▓▓▓▓▓▓▓▓▒▒░░  ░░                                        " << std::endl;
	out << "                ░░▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▓▓▓▓▒▒██▓▓░░▒▒  ░░░░                                  " << std::endl;
	out << "        ░░▒▒▓▓▒▒▒▒▒▒▓▓▒▒▒▒▓▓▒▒▓▓▒▒▓▓▒▒▒▒▓▓▒▒▓▓▒▒▒▒▒▒▒▒▒▒░░                                " << std::endl;
	out << "    ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▓▓▒▒▓▓▓▓▒▒▒▒▓▓▒▒▓▓▒▒▒▒▓▓▒▒▒▒▒▒▓▓▓▓▒▒▒▒                        " << std::endl;
	out << "  ░░▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▒▒▒▒▒▒▒▒▓▓▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▒▒░░                      " << std::endl;
	out << "  ░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒░░░░░░▒▒▒▒▒▒                      " << std::endl;
	out << "  ░░▒▒▒▒▒▒▒▒▒▒░░▒▒░░▒▒▒▒▓▓▓▓▒▒▒▒░░░░░░▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓░░░░                      " << std::endl;
	out << "    ▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒  ▓▓  ░░░░░░                              " << std::endl;
	out << "            ░░▒▒▒▒▒▒░░    ▓▓▓▓░░▓▓▒▒▒▒▒▒▒▒                                                " << std::endl;
	out.close();
	return ;
}